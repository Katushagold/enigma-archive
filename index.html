<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–†–•–ò–í –≠–ù–ò–ì–ú–ê ¬∑ –§–û–¢–û–£–õ–ò–ö–ò</title>
    <style>
        body {
            background-color: #0a0f1e;
            font-family: 'Courier New', monospace;
            color: #b0e0ff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .terminal {
            background: #03070e;
            border: 1px solid #1e3b5c;
            padding: 40px;
            width: 700px;
            box-shadow: 0 0 20px rgba(0,180,255,0.2);
            border-radius: 8px;
        }
        h1 {
            font-size: 24px;
            color: #87ceeb;
            border-bottom: 1px solid #2c5f73;
            padding-bottom: 15px;
            margin-top: 0;
            letter-spacing: 2px;
        }
        h2 {
            font-size: 18px;
            color: #9acdcd;
            margin: 20px 0 10px 0;
            border-left: 3px solid #2f7f8f;
            padding-left: 10px;
        }
        .field {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-size: 15px;
            margin-bottom: 6px;
            color: #9acdcd;
        }
        input, .admin-area {
            width: 100%;
            background: #10161f;
            border: 1px solid #2e4e5e;
            padding: 12px;
            color: #e0ffff;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            box-sizing: border-box;
            outline: none;
        }
        input:focus {
            border-color: #3fa0b5;
            background: #0c121c;
        }
        
        /* –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ */
        .admin-panel {
            background: #0c141f;
            border: 1px solid #3e6d80;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }
        .admin-area {
            border: 1px dashed #2f7f8f;
            text-align: center;
            cursor: pointer;
            background: #0a141c;
            padding: 30px 20px;
            font-size: 16px;
            color: #87ceeb;
            transition: 0.3s;
        }
        .admin-area:hover {
            background: #1e3a4a;
            border-color: #60b5c0;
        }
        .preview-image {
            max-width: 100%;
            max-height: 200px;
            margin-top: 15px;
            border: 1px solid #2f7f8f;
            border-radius: 4px;
            display: none;
        }
        .preview-image.active {
            display: block;
        }
        
        /* –ö–ù–û–ü–ö–ò */
        button {
            background: #132b36;
            border: 1px solid #2f7f8f;
            color: #caf0fe;
            padding: 12px 24px;
            font-size: 18px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            font-weight: bold;
            letter-spacing: 3px;
            transition: 0.3s;
        }
        button:hover {
            background: #1e4452;
            border-color: #60b5c0;
            box-shadow: 0 0 8px #1e7f8f;
        }
        .admin-btn {
            background: #362b4a;
            border-color: #6f5f8f;
        }
        .admin-btn:hover {
            background: #4a3a63;
            border-color: #9f7fbf;
        }
        
        /* –í–´–í–û–î */
        #output {
            margin-top: 30px;
            padding: 20px;
            background: #0d141c;
            border-left: 4px solid #3e6d80;
            font-size: 15px;
            min-height: 100px;
            word-wrap: break-word;
            color: #b4d4d4;
        }
        .error {
            color: #ffa0a0;
            border-left-color: #a04c4c;
        }
        .success {
            color: #b0f0b0;
            border-left-color: #4fa84f;
        }
        .evidence-image {
            max-width: 100%;
            max-height: 400px;
            margin-top: 15px;
            border: 2px solid #2f7f8f;
            border-radius: 4px;
            box-shadow: 0 0 15px rgba(0,180,255,0.3);
        }
        .system-info {
            color: #709090;
            font-size: 13px;
            margin-top: 10px;
            font-style: italic;
        }
        .cursor {
            display: inline-block;
            width: 8px;
            height: 15px;
            background: #6f9f9f;
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        .admin-badge {
            background: #4a3a63;
            color: #e0c0ff;
            padding: 4px 10px;
            font-size: 12px;
            border-radius: 3px;
            display: inline-block;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="terminal">
        <h1>‚ö° –ê–†–•–ò–í "–≠–ù–ò–ì–ú–ê" ¬∑ –§–û–¢–û–¢–ï–ö–ê –£–õ–ò–ö</h1>
        <div style="color:#95afb0; margin-bottom:25px; font-size:14px;">
            [–°–ò–°–¢–ï–ú–ê: –î–≤—É—Ö—Ä–µ–∂–∏–º–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ê–¥–º–∏–Ω ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ. –ò–≥—Ä–æ–∫–∏ ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä —É–ª–∏–∫.]
        </div>
        
        <!-- =========== –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ (–¢–û–õ–¨–ö–û –î–õ–Ø –¢–ï–ë–Ø) =========== -->
        <div class="admin-panel">
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <span style="color:#c0a0ff; font-size: 18px;">üëë –ê–î–ú–ò–ù–ò–°–¢–†–ò–†–û–í–ê–ù–ò–ï</span>
                <span class="admin-badge">–¢–æ–ª—å–∫–æ –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª—è</span>
            </div>
            
            <div class="field">
                <label>üîê –ê–î–ú–ò–ù-–õ–û–ì–ò–ù</label>
                <input type="text" id="adminLogin" placeholder="admin" value="admin" autocomplete="off">
            </div>
            
            <div class="field">
                <label>üóùÔ∏è –ê–î–ú–ò–ù-–ü–ê–†–û–õ–¨</label>
                <input type="password" id="adminPassword" placeholder="****" value="enigma2026" autocomplete="off">
            </div>
            
            <div class="field">
                <label>üì∏ –ó–ê–ì–†–£–ó–ò–¢–¨ –§–û–¢–û–£–õ–ò–ö–£</label>
                <div class="admin-area" id="adminUploadArea">üìÅ –ù–ê–ñ–ú–ò–¢–ï –ò–õ–ò –ü–ï–†–ï–¢–ê–©–ò–¢–ï –§–û–¢–û –°–Æ–î–ê</div>
                <input type="file" id="adminFileInput" accept="image/*">
                <img id="adminPreview" class="preview-image" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
                <div id="adminStatus" style="color:#87ceeb; margin-top: 10px;"></div>
            </div>
            
            <button id="adminSaveBtn" class="admin-btn" onclick="adminSavePhoto()">üíæ –°–û–•–†–ê–ù–ò–¢–¨ –£–õ–ò–ö–£ –í –ê–†–•–ò–í</button>
        </div>
        
        <!-- =========== –ò–ì–†–û–í–û–ô –í–•–û–î (–î–õ–Ø –¢–í–û–ò–• –î–†–£–ó–ï–ô) =========== -->
        <div style="border-top: 1px solid #2e4e5e; margin: 30px 0 20px 0;"></div>
        
        <div style="display: flex; align-items: center; margin-bottom: 15px;">
            <span style="color:#87ceeb; font-size: 18px;">üïµÔ∏è‚Äç‚ôÇÔ∏è –î–û–°–¢–£–ü –ö –£–õ–ò–ö–ê–ú</span>
        </div>
        
        <div class="field">
            <label>üîê –õ–û–ì–ò–ù –û–ü–ï–†–ê–¢–ò–í–ù–ò–ö–ê</label>
            <input type="text" id="login" placeholder="watson, moriarty, holmes..." autocomplete="off">
        </div>
        
        <div class="field">
            <label>üóùÔ∏è –ö–û–î –ö–ê–ü–ò–¢–ê–ù–ê</label>
            <input type="password" id="password" placeholder="****" autocomplete="off">
        </div>
        
        <button onclick="checkAccess()">‚ñ∂ –ü–û–õ–£–ß–ò–¢–¨ –£–õ–ò–ö–£</button>
        
        <!-- =========== –ó–î–ï–°–¨ –ü–û–Ø–í–õ–Ø–ï–¢–°–Ø –£–õ–ò–ö–ê =========== -->
        <div id="output">
            <span style="color:#709090;">–û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –ª–æ–≥–∏–Ω–∞...</span>
            <span class="cursor"></span>
        </div>
        
        <div class="system-info" id="systemInfo">
            üèõÔ∏è –í –∞—Ä—Ö–∏–≤–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ —É–ª–∏–∫: <span id="evidenceCount">0</span>
        </div>
    </div>

    <script>
        // ------------------------------------------------------------
        // 1. –ë–ê–ó–ê –î–ê–ù–ù–´–• –ò–ì–†–û–ö–û–í (–õ–û–ì–ò–ù + –ü–ê–†–û–õ–¨)
        // ------------------------------------------------------------
        const validCredentials = [
            ["watson", "1402"],
            ["moriarty", "1887"],
            ["holmes", "221b"],
            ["lestrade", "1895"],
            ["adler", "1888"]
        ];

        // ------------------------------------------------------------
        // 2. –•–†–ê–ù–ò–õ–ò–©–ï –£–õ–ò–ö (–í –ë–†–ê–£–ó–ï–†–ï)
        // ------------------------------------------------------------
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ –∏–∑ localStorage –∏–ª–∏ —Å—Ç–∞–≤–∏–º –∑–∞–≥–ª—É—à–∫—É
        let currentEvidence = localStorage.getItem('enigmaEvidence') || '';
        let evidenceTimestamp = localStorage.getItem('enigmaTimestamp') || '';
        
        // ------------------------------------------------------------
        // 3. –ü–ï–†–ï–ú–ï–ù–ù–´–ï –î–õ–Ø –ê–î–ú–ò–ù–ê
        // ------------------------------------------------------------
        let uploadedPhotoData = ''; // –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ (base64)
        
        // ------------------------------------------------------------
        // 4. –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–û–í–û–ì–û –í–•–û–î–ê
        // ------------------------------------------------------------
        let step = 1;
        let currentLogin = "";

        // ------------------------------------------------------------
        // 5. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï
        // ------------------------------------------------------------
        document.addEventListener("DOMContentLoaded", function() {
            updateEvidenceCounter();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –¥–ª—è –∞–¥–º–∏–Ω–∞
            setupAdminUpload();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            setupTypeSound();
            
            // Enter –¥–ª—è –ø–æ–ª–µ–π –∏–≥—Ä–æ–∫–∞
            const loginField = document.getElementById("login");
            const passField = document.getElementById("password");
            
            loginField.addEventListener("keypress", function(e) {
                if (e.key === "Enter") checkAccess();
            });
            
            passField.addEventListener("keypress", function(e) {
                if (e.key === "Enter") checkAccess();
            });
        });

        // ------------------------------------------------------------
        // 6. –ê–î–ú–ò–ù: –ó–ê–ì–†–£–ó–ö–ê –§–û–¢–û
        // ------------------------------------------------------------
        function setupAdminUpload() {
            const adminFileInput = document.getElementById('adminFileInput');
            const adminUploadArea = document.getElementById('adminUploadArea');
            const adminPreview = document.getElementById('adminPreview');
            
            // –ö–ª–∏–∫ –ø–æ –æ–±–ª–∞—Å—Ç–∏
            adminUploadArea.addEventListener('click', () => {
                adminFileInput.click();
            });
            
            // Drag & Drop
            adminUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                adminUploadArea.style.background = '#1e4452';
                adminUploadArea.style.borderColor = '#60b5c0';
            });
            
            adminUploadArea.addEventListener('dragleave', () => {
                adminUploadArea.style.background = '#0a141c';
                adminUploadArea.style.borderColor = '#2f7f8f';
            });
            
            adminUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                adminUploadArea.style.background = '#0a141c';
                adminUploadArea.style.borderColor = '#2f7f8f';
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    adminFileInput.files = files;
                    handleAdminFile(files[0]);
                }
            });
            
            // –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞
            adminFileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleAdminFile(e.target.files[0]);
                }
            });
        }
        
        function handleAdminFile(file) {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            if (!file.type.startsWith('image/')) {
                document.getElementById('adminStatus').innerHTML = '‚ùå –ù—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ!';
                document.getElementById('adminStatus').style.color = '#ffa0a0';
                return;
            }
            
            const reader = new FileReader();
            reader.onload = (e) => {
                uploadedPhotoData = e.target.result;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                const preview = document.getElementById('adminPreview');
                preview.src = uploadedPhotoData;
                preview.classList.add('active');
                
                document.getElementById('adminStatus').innerHTML = `‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: ${file.name} (${(file.size/1024).toFixed(1)} –ö–ë)`;
                document.getElementById('adminStatus').style.color = '#87ceeb';
            };
            reader.readAsDataURL(file);
        }
        
        // ------------------------------------------------------------
        // 7. –ê–î–ú–ò–ù: –°–û–•–†–ê–ù–ï–ù–ò–ï –£–õ–ò–ö–ò –í –ê–†–•–ò–í
        // ------------------------------------------------------------
        function adminSavePhoto() {
            const adminLogin = document.getElementById('adminLogin').value.trim();
            const adminPass = document.getElementById('adminPassword').value.trim();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø–∞ (—Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–µ—à—å –ø–æ–º–µ–Ω—è—Ç—å)
            if (adminLogin === 'admin' && adminPass === 'enigma2026') {
                if (!uploadedPhotoData) {
                    document.getElementById('adminStatus').innerHTML = '‚ùå –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ!';
                    document.getElementById('adminStatus').style.color = '#ffa0a0';
                    return;
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                localStorage.setItem('enigmaEvidence', uploadedPhotoData);
                
                const now = new Date();
                const timestamp = now.toLocaleString('ru-RU');
                localStorage.setItem('enigmaTimestamp', timestamp);
                
                currentEvidence = uploadedPhotoData;
                evidenceTimestamp = timestamp;
                
                document.getElementById('adminStatus').innerHTML = `‚úÖ –£–õ–ò–ö–ê –°–û–•–†–ê–ù–ï–ù–ê! –í—Ä–µ–º—è: ${timestamp}`;
                document.getElementById('adminStatus').style.color = '#a0f0a0';
                
                updateEvidenceCounter();
                
                // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å)
                // uploadedPhotoData = '';
                // document.getElementById('adminPreview').classList.remove('active');
                
                // –ó–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª
                playTypeSound();
            } else {
                document.getElementById('adminStatus').innerHTML = '‚ùå –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞! –ù–µ–≤–µ—Ä–Ω—ã–µ –∞–¥–º–∏–Ω-–¥–∞–Ω–Ω—ã–µ.';
                document.getElementById('adminStatus').style.color = '#ffa0a0';
            }
        }
        
        // ------------------------------------------------------------
        // 8. –°–ß–ï–¢–ß–ò–ö –£–õ–ò–ö
        // ------------------------------------------------------------
        function updateEvidenceCounter() {
            const countSpan = document.getElementById('evidenceCount');
            if (currentEvidence) {
                countSpan.innerHTML = '1 (–ø–æ—Å–ª–µ–¥–Ω—è—è: ' + (evidenceTimestamp || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ') + ')';
            } else {
                countSpan.innerHTML = '0';
            }
        }
        
        // ------------------------------------------------------------
        // 9. –ò–ì–†–û–ö–ò: –ü–†–û–í–ï–†–ö–ê –î–û–°–¢–£–ü–ê
        // ------------------------------------------------------------
        function checkAccess() {
            const loginField = document.getElementById("login");
            const passField = document.getElementById("password");
            const outputDiv = document.getElementById("output");

            const login = loginField.value.trim();
            const password = passField.value.trim();

            // –®–ê–ì 1: –í–í–û–î –õ–û–ì–ò–ù–ê
            if (step === 1) {
                const match = validCredentials.find(pair => pair[0] === login);
                if (match) {
                    currentLogin = login;
                    step = 2;
                    passField.value = "";
                    outputDiv.innerHTML = `
                        <span style="color:#ffe08c;">üîë –ö–ê–ü–ò–¢–ê–ù, –ü–û–î–¢–í–ï–†–î–ò–¢–ï</span><br>
                        –õ–æ–≥–∏–Ω ¬´${login}¬ª –ø—Ä–∏–Ω—è—Ç. –í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ –∫–∞–ø–∏—Ç–∞–Ω–∞.
                    `;
                    outputDiv.className = "success";
                    passField.focus();
                } else {
                    outputDiv.innerHTML = `
                        <span style="color:#ffb0b0;">‚õî –î–û–°–¢–£–ü –ó–ê–ü–†–ï–©–Å–ù</span><br>
                        –õ–æ–≥–∏–Ω ¬´${login}¬ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ.
                    `;
                    outputDiv.className = "error";
                    step = 1;
                    currentLogin = "";
                    loginField.value = "";
                    passField.value = "";
                    loginField.focus();
                }
                return;
            }

            // –®–ê–ì 2: –í–í–û–î –ö–û–î–ê –ö–ê–ü–ò–¢–ê–ù–ê
            if (step === 2) {
                const match = validCredentials.find(pair => pair[0] === currentLogin && pair[1] === password);
                if (match) {
                    // –£–°–ü–ï–®–ù–´–ô –í–•–û–î - –ü–û–ö–ê–ó–´–í–ê–ï–ú –£–õ–ò–ö–£
                    let outputHTML = `
                        <span style="color:#a0f0a0;">‚ñÆ‚ñÆ –î–û–°–¢–£–ü –†–ê–ó–†–ï–®–ï–ù ‚ñÆ‚ñÆ</span><br>
                        –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–∫: ${match[0].toUpperCase()}<br>
                        –ö–æ–¥ –¥–æ—Å—Ç—É–ø–∞: ${match[1]}<br><br>
                        <span style="color:#d0e0ff;">üìÅ –ú–ê–¢–ï–†–ò–ê–õ–´ –î–ï–õ–ê ‚Ññ${match[1]}-${match[0].toUpperCase()}:</span><br>
                    `;
                    
                    // –ï—Å–ª–∏ –µ—Å—Ç—å —É–ª–∏–∫–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ç–æ
                    if (currentEvidence) {
                        outputHTML += `
                            <br>
                            <span style="color:#87ceeb;">üñºÔ∏è –§–û–¢–û–£–õ–ò–ö–ê (–∑–∞–≥—Ä—É–∂–µ–Ω–∞ ${evidenceTimestamp || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}):</span><br>
                            <img src="${currentEvidence}" class="evidence-image" alt="–§–æ—Ç–æ—É–ª–∏–∫–∞">
                            <br><br>
                            <span style="color:#b0f0b0;">‚úì –§–∞–π–ª –ø–æ–ª—É—á–µ–Ω –∏–∑ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞</span>
                        `;
                    } else {
                        outputHTML += `
                            <br>
                            <span style="color:#ffd070;">‚ö†Ô∏è –í –∞—Ä—Ö–∏–≤–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ñ–æ—Ç–æ—É–ª–∏–∫.</span><br>
                            <span style="color:#709090;">–û–∂–∏–¥–∞–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</span>
                        `;
                    }
                    
                    outputDiv.innerHTML = outputHTML;
                    outputDiv.className = "success";
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–ª—è –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏
                    step = 1;
                    currentLogin = "";
                    loginField.value = "";
                    passField.value = "";
                    
                } else {
                    outputDiv.innerHTML = `
                        <span style="color:#ff8080;">‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê</span><br>
                        –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –∫–∞–ø–∏—Ç–∞–Ω–∞ –¥–ª—è ¬´${currentLogin}¬ª.<br>
                        <span style="color:#b09090;">–°–µ—Å—Å–∏—è –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∞. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∑–∞–Ω–æ–≤–æ.</span>
                    `;
                    outputDiv.className = "error";
                    step = 1;
                    currentLogin = "";
                    loginField.value = "";
                    passField.value = "";
                    loginField.focus();
                }
            }
        }

        // ------------------------------------------------------------
        // 10. –ó–í–£–ö –ü–ò–®–£–©–ï–ô –ú–ê–®–ò–ù–ö–ò (–î–õ–Ø –ê–¢–ú–û–°–§–ï–†–´)
        // ------------------------------------------------------------
        function playTypeSound() {
            try {
                const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(70, audioCtx.currentTime);
                
                gainNode.gain.setValueAtTime(0.02, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.05);
                
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.04);
                
                if (audioCtx.state === 'suspended') {
                    audioCtx.resume();
                }
            } catch(e) {
                // –¢–∏—à–∏–Ω–∞ ‚Äî —Ç–æ–∂–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ
            }
        }
        
        function setupTypeSound() {
            // –ó–≤—É–∫ –ø—Ä–∏ –≤–≤–æ–¥–µ –≤ –ø–æ–ª—è –∏–≥—Ä–æ–∫–∞
            const loginField = document.getElementById("login");
            const passField = document.getElementById("password");
            loginField.addEventListener("keydown", playTypeSound);
            passField.addEventListener("keydown", playTypeSound);
            
            // –ó–≤—É–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏
            document.querySelector("button[onclick='checkAccess()']").addEventListener("click", playTypeSound);
            document.getElementById("adminSaveBtn").addEventListener("click", playTypeSound);
        }
    </script>
</body>
</html>